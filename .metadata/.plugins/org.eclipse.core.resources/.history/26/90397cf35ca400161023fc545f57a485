package edu.depaul.secmail;

import java.io.OutputStream;
import java.io.Serializable;
import java.net.Socket;
import java.io.IOException;
import java.io.InputStream;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;

/*
 * to write object, override WriteObject()
 * 		take the object, seal it, send sealed object
 * to read object, override ReadObject()
 * 		take the object, unseal it, return unsealed object
 * 
 * needs to do the key exchange (server or client)
 * 	store the key
 * 
 * 
 * */


public class DHEncryptionWriter{
	private Socket s;
	
	private ObjectInputStream is;
	private ObjectOutputStream os;
	
	
	
	
	public void writeObject(Serializable obj) throws IOException{
//		SecMailStaticEncryption.encryptObject(packet, keyBytes)
		
		
	}
	
	
	DHEncryptionWriter(Socket s, boolean isServer) throws IOException
	{
		this.s = s;
		os = new ObjectOutputStream(s.getOutputStream());
		is = new ObjectInputStream(s.getInputStream());
		
		
		
	}
	
	
	public void close() throws IOException
	{
		os.close();
		is.close();
	}
	
	public void flush() throws IOException
	{
		os.flush();
	}
	
	public void write(byte[] b) throws IOException
	{
		os.write(b);
	}
	
	public void write(byte[] b, int off, int len) throws IOException
	{
		os.write(b, off, len);
	}
	
	public void write(int b) throws IOException
	{
		os.write(b);
	}
}
